import{P as Q,g as S,Q as b,e as W,R as Y,S as X,T as Z,U as J,i as x,V as $,W as k,r as H,s as z,X as A,Y as K,Z as ee,j as T,$ as te,a0 as V,a1 as ae,a2 as se,m as q,c as R,o as O,a as U,M as F,t as L,k as ne,n as oe,_ as re,a3 as ie,a4 as ce}from"#entry";import{u as le}from"./ztBJlDr-.js";const ue=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],de=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",C=[];class he{_data=new E;_hash=new E([...ue]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const a=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(a/4294967296),this._data.words[(t+64>>>9<<4)+15]=a,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,a){const t=this._hash.words;let n=t[0],r=t[1],o=t[2],c=t[3],i=t[4],m=t[5],l=t[6],d=t[7];for(let u=0;u<64;u++){if(u<16)C[u]=e[a+u]|0;else{const h=C[u-15],p=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,w=C[u-2],P=(w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10;C[u]=p+C[u-7]+P+C[u-16]}const y=i&m^~i&l,_=n&r^n&o^r&o,g=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),v=(i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25),D=d+v+y+de[u]+C[u],f=g+_;d=l,l=m,m=i,i=c+D|0,c=o,o=r,r=n,n=D+f|0}t[0]=t[0]+n|0,t[1]=t[1]+r|0,t[2]=t[2]+o|0,t[3]=t[3]+c|0,t[4]=t[4]+i|0,t[5]=t[5]+m|0,t[6]=t[6]+l|0,t[7]=t[7]+d|0}_append(e){typeof e=="string"&&(e=E.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let a,t=this._data.sigBytes/64;e?t=Math.ceil(t):t=Math.max((t|0)-this._minBufferSize,0);const n=t*16,r=Math.min(n*4,this._data.sigBytes);if(n){for(let o=0;o<n;o+=16)this._doProcessBlock(this._data.words,o);a=this._data.words.splice(0,n),this._data.sigBytes-=r}return new E(a,r)}}class E{words;sigBytes;constructor(e,a){e=this.words=e||[],this.sigBytes=a===void 0?e.length*4:a}static fromUtf8(e){const a=unescape(encodeURIComponent(e)),t=a.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(a.charCodeAt(r)&255)<<24-r%4*8;return new E(n,t)}toBase64(){const e=[];for(let a=0;a<this.sigBytes;a+=3){const t=this.words[a>>>2]>>>24-a%4*8&255,n=this.words[a+1>>>2]>>>24-(a+1)%4*8&255,r=this.words[a+2>>>2]>>>24-(a+2)%4*8&255,o=t<<16|n<<8|r;for(let c=0;c<4&&a*8+c*6<this.sigBytes*8;c++)e.push(fe.charAt(o>>>6*(3-c)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let a=0;a<e.sigBytes;a++){const t=e.words[a>>>2]>>>24-a%4*8&255;this.words[this.sigBytes+a>>>2]|=t<<24-(this.sigBytes+a)%4*8}else for(let a=0;a<e.sigBytes;a+=4)this.words[this.sigBytes+a>>>2]=e.words[a>>>2];this.sigBytes+=e.sigBytes}}function _e(s){return new he().finalize(s).toBase64()}function M(s){return _e(Q(s))}const me={trailing:!0};function ye(s,e=25,a={}){if(a={...me,...a},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let t,n,r=[],o,c;const i=(d,u)=>(o=ve(s,d,u),o.finally(()=>{if(o=null,a.trailing&&c&&!n){const y=i(d,c);return c=null,y}}),o),m=function(...d){return a.trailing&&(c=d),o||new Promise(u=>{const y=!n&&a.leading;clearTimeout(n),n=setTimeout(()=>{n=null;const _=a.leading?t:i(this,d);c=null;for(const g of r)g(_);r=[]},e),y?(t=i(this,d),u(t)):r.push(u)})},l=d=>{d&&(clearTimeout(d),n=null)};return m.isPending=()=>!!n,m.cancel=()=>{l(n),r=[],c=null},m.flush=()=>{if(l(n),!c||o)return;const d=c;return c=null,i(this,d)},m}async function ve(s,e,a){return await s.apply(e,a)}const De=Symbol.for("nuxt:client-only");function ge(...s){const e=typeof s[s.length-1]=="string"?s.pop():void 0;pe(s[0],s[1])&&s.unshift(e);let[a,t,n={}]=s;const r=S(()=>b(a));if(typeof r.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const o=W();n.server??=!0,n.default??=we,n.getCachedData??=G,n.lazy??=!1,n.immediate??=!0,n.deep??=Y.deep,n.dedupe??="cancel",n._functionName,o._asyncData[r.value];const c={cause:"initial",dedupe:n.dedupe};o._asyncData[r.value]?._init||(c.cachedData=n.getCachedData(r.value,o,{cause:"initial"}),o._asyncData[r.value]=N(o,r.value,t,n,c.cachedData));const i=o._asyncData[r.value];i._deps++;const m=()=>o._asyncData[r.value].execute(c),l=n.server!==!1&&o.payload.serverRendered;{let y=function(f){const h=o._asyncData[f];h?._deps&&(h._deps--,h._deps===0&&h?._off())};const _=X();if(_&&l&&n.immediate&&!_.sp&&(_.sp=[]),_&&!_._nuxtOnBeforeMountCbs){_._nuxtOnBeforeMountCbs=[];const f=_._nuxtOnBeforeMountCbs;Z(()=>{f.forEach(h=>{h()}),f.splice(0,f.length)}),J(()=>f.splice(0,f.length))}const g=_&&(_._nuxtClientOnly||x(De,!1));l&&o.isHydrating&&(i.error.value||i.data.value!==void 0)?i.status.value=i.error.value?"error":"success":_&&(!g&&o.payload.serverRendered&&o.isHydrating||n.lazy)&&n.immediate?_._nuxtOnBeforeMountCbs.push(m):n.immediate&&i.status.value!=="success"&&m();const v=te(),D=$([r,...n.watch||[]],([f],[h])=>{if((f||h)&&f!==h){const p=o._asyncData[h]?.data.value!==void 0,w=o._asyncDataPromises[h]!==void 0;h&&y(h);const P={cause:"initial",dedupe:n.dedupe};if(!o._asyncData[f]?._init){let B;h&&p?B=o._asyncData[h]?.data.value:(B=n.getCachedData(f,o,{cause:"initial"}),P.cachedData=B),o._asyncData[f]=N(o,f,t,n,B)}o._asyncData[f]._deps++,(n.immediate||p||w)&&o._asyncData[f].execute(P)}else i._execute({cause:"watch",dedupe:n.dedupe})},{flush:"sync"});v&&k(()=>{D(),y(r.value)})}const d={data:j(()=>o._asyncData[r.value]?.data),pending:j(()=>o._asyncData[r.value]?.pending),status:j(()=>o._asyncData[r.value]?.status),error:j(()=>o._asyncData[r.value]?.error),refresh:(...y)=>o._asyncData[r.value].execute(...y),execute:(...y)=>o._asyncData[r.value].execute(...y),clear:()=>I(o,r.value)},u=Promise.resolve(o._asyncDataPromises[r.value]).then(()=>d);return Object.assign(u,d),u}function j(s){return S({get(){return s()?.value},set(e){const a=s();a&&(a.value=e)}})}function pe(s,e){return!(typeof s=="string"||typeof s=="object"&&s!==null||typeof s=="function"&&typeof e=="function")}function I(s,e){e in s.payload.data&&(s.payload.data[e]=void 0),e in s.payload._errors&&(s.payload._errors[e]=void 0),s._asyncData[e]&&(s._asyncData[e].data.value=T(s._asyncData[e]._default()),s._asyncData[e].error.value=void 0,s._asyncData[e].status.value="idle"),e in s._asyncDataPromises&&(s._asyncDataPromises[e]&&(s._asyncDataPromises[e].cancelled=!0),s._asyncDataPromises[e]=void 0)}function be(s,e){const a={};for(const t of e)a[t]=s[t];return a}function N(s,e,a,t,n){s.payload._errors[e]??=void 0;const r=t.getCachedData!==G,o=a,c=t.deep?H:z,i=n!==void 0,m=s.hook("app:data:refresh",async d=>{(!d||d.includes(e))&&await l.execute({cause:"refresh:hook"})}),l={data:c(i?n:t.default()),pending:S(()=>l.status.value==="pending"),error:A(s.payload._errors,e),status:z("idle"),execute:(...d)=>{const[u,y=void 0]=d,_=u&&y===void 0&&typeof u=="object"?u:{};if(s._asyncDataPromises[e]){if((_.dedupe??t.dedupe)==="defer")return s._asyncDataPromises[e];s._asyncDataPromises[e].cancelled=!0}{const v="cachedData"in _?_.cachedData:t.getCachedData(e,s,{cause:_.cause??"refresh:manual"});if(v!==void 0)return s.payload.data[e]=l.data.value=v,l.error.value=void 0,l.status.value="success",Promise.resolve(v)}l.status.value="pending";const g=new Promise((v,D)=>{try{v(o(s))}catch(f){D(f)}}).then(async v=>{if(g.cancelled)return s._asyncDataPromises[e];let D=v;t.transform&&(D=await t.transform(v)),t.pick&&(D=be(D,t.pick)),s.payload.data[e]=D,l.data.value=D,l.error.value=void 0,l.status.value="success"}).catch(v=>{if(g.cancelled)return s._asyncDataPromises[e];l.error.value=ee(v),l.data.value=T(t.default()),l.status.value="error"}).finally(()=>{g.cancelled||delete s._asyncDataPromises[e]});return s._asyncDataPromises[e]=g,s._asyncDataPromises[e]},_execute:ye((...d)=>l.execute(...d),0,{leading:!0}),_default:t.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{m(),s._asyncData[e]?._init&&(s._asyncData[e]._init=!1),r||K(()=>{s._asyncData[e]?._init||(I(s,e),l.execute=()=>Promise.resolve())})}};return l}const we=()=>{},G=(s,e,a)=>{if(e.isHydrating)return e.payload.data[s];if(a.cause!=="refresh:manual"&&a.cause!=="refresh:hook")return e.static.data[s]};function Be(s,e,a){const[t={},n]=typeof e=="string"?[{},e]:[e,a],r=S(()=>b(s)),o=S(()=>b(t.key)||"$f"+M([n,typeof r.value=="string"?r.value:"",...Pe(t)]));if(!t.baseURL&&typeof r.value=="string"&&r.value[0]==="/"&&r.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:c,lazy:i,default:m,transform:l,pick:d,watch:u,immediate:y,getCachedData:_,deep:g,dedupe:v,...D}=t,f=V({...ae,...D,cache:typeof t.cache=="boolean"?void 0:t.cache}),h={server:c,lazy:i,default:m,transform:l,pick:d,immediate:y,getCachedData:_,deep:g,dedupe:v,watch:u===!1?[]:[...u||[],f]};let p;return ge(u===!1?o.value:o,()=>{p?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),p=typeof AbortController<"u"?new AbortController:{};const P=b(t.timeout);let B;return P&&(B=setTimeout(()=>p.abort(new DOMException("Request aborted due to timeout.","AbortError")),P),p.signal.onabort=()=>clearTimeout(B)),(t.$fetch||globalThis.$fetch)(r.value,{signal:p.signal,...f}).finally(()=>{clearTimeout(B)})},h)}function Pe(s){const e=[b(s.method)?.toUpperCase()||"GET",b(s.baseURL)];for(const a of[s.params||s.query]){const t=b(a);if(!t)continue;const n={};for(const[r,o]of Object.entries(t))n[b(r)]=b(o);e.push(n)}if(s.body){const a=b(s.body);if(!a)e.push(M(a));else if(a instanceof ArrayBuffer)e.push(M(Object.fromEntries([...new Uint8Array(a).entries()].map(([t,n])=>[t,n.toString()]))));else if(a instanceof FormData){const t={};for(const n of a.entries()){const[r,o]=n;t[r]=o instanceof File?o.name:o}e.push(M(t))}else if(se(a))e.push(M(V(a)));else try{e.push(M(a))}catch{console.warn("[useFetch] Failed to hash body",a)}}return e}const Ce="http://localhost:3001",Te=()=>{const s=`${Ce}/blogApi/getExperienceArticle`;return Be(s,{method:"get"},"$LHhQV-2THO")},Me={class:"review"},Ee={class:"header"},Oe=["innerHTML"],Se=q({__name:"Preview",props:{form:{}},setup(s){const e=le(),a={travel:"For Travel Moments",daily:"For Daily Life Snippets",memory:"For Precious Memories",diary:"For Personal Diary",experience:"For My Experience"};return(t,n)=>(O(),R("div",Me,[U("div",Ee,[U("h1",{style:{margin:"0"},class:F(T(e).theme.label==="light"?"bigTitle_sun":"bigTitle_moon")},L(t.form?.title||"Your title"),3),t.form?.type?(O(),R("h3",{key:1,class:F(T(e).theme.label==="light"?"smallTitle_sun":"smallTitle_moon")},L(a[t.form?.type?.value||t.form?.type]),3)):(O(),R("h3",{key:0,class:F(T(e).theme.label==="light"?"smallTitle_sun":"smallTitle_moon")}," For Travel Moments, Daily Life Snippets, Precious Memories and Personal Diary ",2))]),U("div",{class:F(["content",T(e).theme.label==="light"?"font_sun":"font_moon"]),style:oe({"--font":T(e).theme.label==="light"?"#45403c":"#d9e0d8"})},[t.form&&t.form?.content!=="<p><br></p>"?(O(),R("div",{key:0,innerHTML:t.form?.content},null,8,Oe)):ne("",!0)],6)]))}}),Re=re(Se,[["__scopeId","data-v-5d61d5d9"]]),ze=q({__name:"share",async setup(s){let e,a;const t=H(null),{data:n,error:r}=([e,a]=ie(()=>Te()),e=await e,a(),e);return $(()=>n.value,o=>{if(console.log("res-",o),r.value){console.error("请求失败：",r.value);return}const{code:c,result:i}=o;c===0&&(t.value=i)},{immediate:!0}),(o,c)=>(O(),ce(Re,{form:t.value},null,8,["form"]))}});export{ze as default};
